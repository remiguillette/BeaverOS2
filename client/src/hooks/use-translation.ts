import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface TranslationState {
  currentLang: 'en' | 'fr';
  setLanguage: (lang: 'en' | 'fr') => void;
  t: (key: string) => string;
}

const translations = {
  en: {
    // Header
    'header.welcome': 'Welcome',
    'header.profile': 'Profile',
    'header.logout': 'Logout',
    'header.switchToFrench': 'Switch to French',
    'header.switchToEnglish': 'Switch to English',
    'header.backToDashboard': 'Back to Dashboard',
    
    // Dashboard
    'dashboard.title': 'BEAVERNET System',
    'dashboard.subtitle': 'Municipal Services Management Platform',
    'dashboard.services': 'Services',
    'dashboard.clickToOpen': 'Click to Open',
    'dashboard.notImplemented': 'not yet implemented',
    
    // Services
    'service.beaverpatch': 'BeaverPatch',
    'service.beaverpatch.desc': 'CAD System',
    'service.beaverpaws': 'BeaverPaws',
    'service.beaverpaws.desc': 'Animal Controls',
    'service.beavercrm': 'BeaverCRM',
    'service.beavercrm.desc': 'Customer Management',
    'service.beaverdoc': 'BeaverDoc',
    'service.beaverdoc.desc': 'Legal Documents',
    'service.beaverpay': 'BeaverPay',
    'service.beaverpay.desc': 'Payment Management',
    'service.beavermonitor': 'BeaverMonitor',
    'service.beavermonitor.desc': 'System Monitoring',
    'service.beaverdmv': 'BeaverDMV',
    'service.beaverdmv.desc': 'DMV Services',
    'service.beaverisk': 'BeaverRisk',
    'service.beaverisk.desc': 'Risk Assessment',
    'service.beaveraudit': 'BeaverAudit',
    'service.beaveraudit.desc': 'Audit & Compliance',
    'service.beavertalk': 'BeaverTalk',
    'service.beavertalk.desc': 'Communication Support',
    
    // Common
    'common.loading': 'Loading...',
    'common.search': 'Search',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.add': 'Add',
    'common.status': 'Status',
    'common.date': 'Date',
    'common.time': 'Time',
    'common.type': 'Type',
    'common.description': 'Description',
    'common.location': 'Location',
    'common.priority': 'Priority',
    'common.assign': 'Assign',
    'common.submit': 'Submit',
    'common.close': 'Close',
    'common.details': 'Details',
    'common.actions': 'Actions',
    'common.create': 'Create',
    'common.update': 'Update',
    'common.view': 'View',
    'common.name': 'Name',
    'common.address': 'Address',
    'common.phone': 'Phone',
    'common.email': 'Email',
    'common.filter': 'Filter',
    'common.all': 'All',
    'common.active': 'Active',
    'common.pending': 'Pending',
    'common.completed': 'Completed',
    'common.failed': 'Failed',
    'common.upload': 'Upload',
    'common.download': 'Download',
    'common.total': 'Total',
    'common.amount': 'Amount',
    'common.success': 'Success',
    'common.error': 'Error',
    'common.warning': 'Warning',
    'common.confirm': 'Confirm',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.previous': 'Previous',
    
    // BeaverPatch
    'beaverpatch.title': 'BeaverPatch CAD System',
    'beaverpatch.callEntry': 'Call Entry',
    'beaverpatch.dispatch': 'Dispatch',
    'beaverpatch.map': 'Map View',
    'beaverpatch.reports': 'Statistics',
    'beaverpatch.incident': 'Incident',
    'beaverpatch.incidents': 'Incidents',
    'beaverpatch.unit': 'Unit',
    'beaverpatch.units': 'Units',
    'beaverpatch.newIncident': 'New Incident',
    'beaverpatch.assignUnit': 'Assign Unit',
    'beaverpatch.updateStatus': 'Update Status',
    'beaverpatch.incidentNumber': 'Incident Number',
    'beaverpatch.unitNumber': 'Unit Number',
    'beaverpatch.available': 'Available',
    'beaverpatch.dispatched': 'Dispatched',
    'beaverpatch.enroute': 'En Route',
    'beaverpatch.onscene': 'On Scene',
    'beaverpatch.busy': 'Busy',
    'beaverpatch.outofservice': 'Out of Service',
    'beaverpatch.cadOnline': 'CAD Online',
    'beaverpatch.callEntry911': '911 Call Entry',
    'beaverpatch.activeIncidents': 'Active Incidents',
    'beaverpatch.noActiveIncidents': 'No active incidents',
    'beaverpatch.incidentManagement': 'Incident Management',
    'beaverpatch.unitManagement': 'Unit Management',
    'beaverpatch.noIncidentsFound': 'No incidents found',
    'beaverpatch.loadingIncidents': 'Loading incidents...',
    'beaverpatch.loadingUnits': 'Loading units...',
    'beaverpatch.allStatus': 'All Status',
    'beaverpatch.new': 'New',
    'beaverpatch.priority': 'Priority',
    'beaverpatch.responseTime': 'Response Time',
    'beaverpatch.medical': 'Medical',
    'beaverpatch.fire': 'Fire',
    'beaverpatch.police': 'Police',
    'beaverpatch.traffic': 'Traffic',
    'beaverpatch.other': 'Other',

    // BeaverPaws
    'beaverpaws.title': 'BeaverPaws Animal Controls',
    'beaverpaws.activeCases': 'Active Cases',
    'beaverpaws.resolvedCases': 'Resolved Cases',
    'beaverpaws.emergencyCases': 'Emergency Cases',
    'beaverpaws.totalCases': 'Total Cases',
    'beaverpaws.responseTracking': 'Response Tracking',
    'beaverpaws.enforcement': 'Enforcement',
    'beaverpaws.laws': 'Laws',
    'beaverpaws.firstAid': 'First Aid',
    'beaverpaws.newResponse': 'New Response',
    'beaverpaws.addFirstAid': 'Add First Aid Record',

    // BeaverPay
    'beaverpay.title': 'BeaverPay Payment Management',
    'beaverpay.dashboard': 'Dashboard',
    'beaverpay.invoices': 'Invoices',
    'beaverpay.payments': 'Payments',
    'beaverpay.pos': 'POS Sales',
    'beaverpay.totalRevenue': 'Total Revenue',
    'beaverpay.pendingInvoices': 'Pending Invoices',
    'beaverpay.completedPayments': 'Completed Payments',
    'beaverpay.todaysSales': 'Today\'s Sales',
    'beaverpay.createInvoice': 'Create Invoice',
    'beaverpay.newTransaction': 'New Transaction',

    // BeaverCRM
    'beavercrm.title': 'BeaverCRM Customer Management',
    'beavercrm.customerDirectory': 'Customer Directory',
    'beavercrm.addCustomer': 'Add Customer',
    'beavercrm.totalCustomers': 'Total Customers',
    'beavercrm.customerDetails': 'Customer Details',
    'beavercrm.identity': 'Identity',
    'beavercrm.contact': 'Contact',
    'beavercrm.professional': 'Professional',
    'beavercrm.notes': 'Notes',
  },
  fr: {
    // Header
    'header.welcome': 'Bienvenue',
    'header.profile': 'Profil',
    'header.logout': 'Déconnexion',
    'header.switchToFrench': 'Passer au français',
    'header.switchToEnglish': 'Passer à l\'anglais',
    'header.backToDashboard': 'Retour au tableau de bord',
    
    // Dashboard
    'dashboard.title': 'Système BEAVERNET',
    'dashboard.subtitle': 'Plateforme de gestion des services municipaux',
    'dashboard.services': 'Services',
    'dashboard.clickToOpen': 'Cliquer pour ouvrir',
    'dashboard.notImplemented': 'pas encore implémenté',
    
    // Services
    'service.beaverpatch': 'BeaverPatch',
    'service.beaverpatch.desc': 'Système CAO',
    'service.beaverpaws': 'BeaverPaws',
    'service.beaverpaws.desc': 'Contrôle Animalier',
    'service.beavercrm': 'BeaverCRM',
    'service.beavercrm.desc': 'Gestion Clientèle',
    'service.beaverdoc': 'BeaverDoc',
    'service.beaverdoc.desc': 'Documents Légaux',
    'service.beaverpay': 'BeaverPay',
    'service.beaverpay.desc': 'Gestion Paiements',
    'service.beavermonitor': 'BeaverMonitor',
    'service.beavermonitor.desc': 'Surveillance Système',
    'service.beaverdmv': 'BeaverDMV',
    'service.beaverdmv.desc': 'Services SAAQ',
    'service.beaverisk': 'BeaverRisk',
    'service.beaverisk.desc': 'Évaluation Risques',
    'service.beaveraudit': 'BeaverAudit',
    'service.beaveraudit.desc': 'Audit et Conformité',
    'service.beavertalk': 'BeaverTalk',
    'service.beavertalk.desc': 'Support Communication',
    
    // Common
    'common.loading': 'Chargement...',
    'common.search': 'Rechercher',
    'common.save': 'Enregistrer',
    'common.cancel': 'Annuler',
    'common.delete': 'Supprimer',
    'common.edit': 'Modifier',
    'common.add': 'Ajouter',
    'common.status': 'Statut',
    'common.date': 'Date',
    'common.time': 'Heure',
    'common.type': 'Type',
    'common.description': 'Description',
    'common.location': 'Emplacement',
    'common.priority': 'Priorité',
    'common.assign': 'Assigner',
    'common.submit': 'Soumettre',
    'common.close': 'Fermer',
    'common.details': 'Détails',
    'common.actions': 'Actions',
    'common.create': 'Créer',
    'common.update': 'Mettre à jour',
    'common.view': 'Voir',
    'common.name': 'Nom',
    'common.address': 'Adresse',
    'common.phone': 'Téléphone',
    'common.email': 'Courriel',
    'common.filter': 'Filtrer',
    'common.all': 'Tous',
    'common.active': 'Actif',
    'common.pending': 'En attente',
    'common.completed': 'Terminé',
    'common.failed': 'Échec',
    'common.upload': 'Téléverser',
    'common.download': 'Télécharger',
    'common.total': 'Total',
    'common.amount': 'Montant',
    'common.success': 'Succès',
    'common.error': 'Erreur',
    'common.warning': 'Avertissement',
    'common.confirm': 'Confirmer',
    'common.back': 'Retour',
    'common.next': 'Suivant',
    'common.previous': 'Précédent',
    
    // BeaverPatch
    'beaverpatch.title': 'Système CAO BeaverPatch',
    'beaverpatch.callEntry': 'Saisie d\'appel',
    'beaverpatch.dispatch': 'Répartition',
    'beaverpatch.map': 'Vue carte',
    'beaverpatch.reports': 'Statistiques',
    'beaverpatch.incident': 'Incident',
    'beaverpatch.incidents': 'Incidents',
    'beaverpatch.unit': 'Unité',
    'beaverpatch.units': 'Unités',
    'beaverpatch.newIncident': 'Nouvel incident',
    'beaverpatch.assignUnit': 'Assigner unité',
    'beaverpatch.updateStatus': 'Mettre à jour statut',
    'beaverpatch.incidentNumber': 'Numéro d\'incident',
    'beaverpatch.unitNumber': 'Numéro d\'unité',
    'beaverpatch.available': 'Disponible',
    'beaverpatch.dispatched': 'Réparti',
    'beaverpatch.enroute': 'En route',
    'beaverpatch.onscene': 'Sur les lieux',
    'beaverpatch.busy': 'Occupé',
    'beaverpatch.outofservice': 'Hors service',
    'beaverpatch.cadOnline': 'CAO en ligne',
    'beaverpatch.callEntry911': 'Saisie d\'appel 911',
    'beaverpatch.activeIncidents': 'Incidents actifs',
    'beaverpatch.noActiveIncidents': 'Aucun incident actif',
    'beaverpatch.incidentManagement': 'Gestion des incidents',
    'beaverpatch.unitManagement': 'Gestion des unités',
    'beaverpatch.noIncidentsFound': 'Aucun incident trouvé',
    'beaverpatch.loadingIncidents': 'Chargement des incidents...',
    'beaverpatch.loadingUnits': 'Chargement des unités...',
    'beaverpatch.allStatus': 'Tous les statuts',
    'beaverpatch.new': 'Nouveau',
    'beaverpatch.priority': 'Priorité',
    'beaverpatch.responseTime': 'Temps de réponse',
    'beaverpatch.medical': 'Médical',
    'beaverpatch.fire': 'Incendie',
    'beaverpatch.police': 'Police',
    'beaverpatch.traffic': 'Circulation',
    'beaverpatch.other': 'Autre',

    // BeaverPaws
    'beaverpaws.title': 'BeaverPaws Contrôle Animalier',
    'beaverpaws.activeCases': 'Cas actifs',
    'beaverpaws.resolvedCases': 'Cas résolus',
    'beaverpaws.emergencyCases': 'Cas d\'urgence',
    'beaverpaws.totalCases': 'Total des cas',
    'beaverpaws.responseTracking': 'Suivi d\'intervention',
    'beaverpaws.enforcement': 'Application',
    'beaverpaws.laws': 'Lois',
    'beaverpaws.firstAid': 'Premiers secours',
    'beaverpaws.newResponse': 'Nouvelle intervention',
    'beaverpaws.addFirstAid': 'Ajouter un dossier de premiers secours',

    // BeaverPay
    'beaverpay.title': 'BeaverPay Gestion des paiements',
    'beaverpay.dashboard': 'Tableau de bord',
    'beaverpay.invoices': 'Factures',
    'beaverpay.payments': 'Paiements',
    'beaverpay.pos': 'Ventes PDV',
    'beaverpay.totalRevenue': 'Revenus totaux',
    'beaverpay.pendingInvoices': 'Factures en attente',
    'beaverpay.completedPayments': 'Paiements terminés',
    'beaverpay.todaysSales': 'Ventes d\'aujourd\'hui',
    'beaverpay.createInvoice': 'Créer une facture',
    'beaverpay.newTransaction': 'Nouvelle transaction',

    // BeaverCRM
    'beavercrm.title': 'BeaverCRM Gestion clientèle',
    'beavercrm.customerDirectory': 'Répertoire clients',
    'beavercrm.addCustomer': 'Ajouter un client',
    'beavercrm.totalCustomers': 'Total des clients',
    'beavercrm.customerDetails': 'Détails du client',
    'beavercrm.identity': 'Identité',
    'beavercrm.contact': 'Contact',
    'beavercrm.professional': 'Professionnel',
    'beavercrm.notes': 'Notes',
  },
};

export const useTranslation = create<TranslationState>()(
  persist(
    (set, get) => ({
      currentLang: 'en',
      setLanguage: (lang: 'en' | 'fr') => set({ currentLang: lang }),
      t: (key: string) => {
        const { currentLang } = get();
        return translations[currentLang][key] || key;
      },
    }),
    {
      name: 'beavernet-language',
    }
  )
);